<!DOCTYPE html>
<html>
<!-- Author Brandon Jonathan Brown -->
<head>
    <script type="text/javascript">
    let canvas, ctx;
    let isDrawing = false;
    let startX = 0;
    let startY = 0;

    const color = "black";
    const thickness = 2;

    function init() {
        canvas = document.getElementById('canvas');
        ctx = canvas.getContext("2d");

        // Event listeners for drawing
        canvas.addEventListener("mousemove", function (e) {
            if (isDrawing) {
                Drawing(e.clientX - canvas.offsetLeft, e.clientY - canvas.offsetTop);
            }
        }, false);
        canvas.addEventListener("mousedown", function (e) {
            isDrawing = true;
            startX = e.clientX - canvas.offsetLeft;
            startY = e.clientY - canvas.offsetTop;
        }, false);
        canvas.addEventListener("mouseup", function () {
            isDrawing = false;
        }, false);
        canvas.addEventListener("mouseout", function () {
            isDrawing = false;
        }, false);
    }

    // Draws a line to the current x, y coordinates
    function Drawing(currentX, currentY) {
        if (!isDrawing) return;
        ctx.beginPath();
        ctx.moveTo(startX, startY);
        ctx.lineTo(currentX, currentY);
        ctx.strokeStyle = color;
        ctx.lineWidth = thickness;
        ctx.stroke();
        ctx.closePath();
        startX = currentX;
        startY = currentY;
    }

    // Clears the canvas
    function erase() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
    }

    // Saves the canvas as an image
    function save() {
        const dataURL = canvas.toDataURL("image/png");
        const newTab = window.open('about:blank','image from canvas');
        newTab.document.write("<img src='" + dataURL + "' alt='from canvas'/>");
    }
    </script>
</head>
<body onload="init()">
    <canvas id="canvas" width="800" height="600" style="position: absolute; top: 10%; left: 10%; border: 2px solid #000;"></canvas>
    <button onclick="save()" style="position: absolute; top: 5%; left: 20%;">Save</button>
    <button onclick="erase()" style="position: absolute; top: 5%; left: 25%;">Clear</button>
</body>
</html>
